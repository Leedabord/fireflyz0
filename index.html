<!DOCTYPE html>

<html lang="en">

<head>
  <meta name="viewport" content="width=device-width">
  <title>Firefly | A Simple Javascript App Boilerplate</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,500,700" rel="stylesheet">
  <style>

    * {
      box-sizing: border-box;
    }
    body {
      font-family: system-ui, sans-serif;
      line-height: 1.4;
      margin: 0 0 10rem;
      color: #555666;
    }

    /* HERO */

    header {
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: space-between;;
      min-height: 90vh;
      background: #333;
      background: linear-gradient(45deg, #FD7D68, #FDB952);
      margin: 15px;
      color: white;
      padding: 2rem;
    }

    @media (max-width:770px) {
      header {
        padding: 1rem;
        min-height: 20rem;
      }
    }

    /* hero nav */

    .top-bar {
      display: flex;
      justify-content: space-between;
      margin: 0 0 2rem;
    }
    .top-bar h1 {
      font-size: 1.1rem;
      margin: 0;
      color: white;
      font-weight: 500;
    }
    header nav {
      margin: 0;
      padding: 0;
    }
    header nav a {
      display: inline-block;
      color: white;
      margin-left: 1rem;
    }

    @media (max-width:770px) {
      header nav {
        display: none;
      }
    }

    /* hero content */

    .hero-content {
      margin: 2rem 0 0;
      text-align: center;
    }
    .headline {
      font-family: 'Roboto Mono', monospace;
      font-size: 1.4rem;
    }
    .sub-headline {
      font-size: 1rem;
      margin: 0 0 2rem;
    }
    .clone {
      font-family: 'Roboto Mono', monospace;
      margin: 0rem auto;
      background: white;
      display: inline-block;
      color: #8e5eed;
      padding: .5rem .75rem;
      border-radius: 2px;
    }
    .hero-content a {
      color: white;
      text-decoration: underline;
    }

    /* MAIN */

    main {
      display: flex;
      margin: 0 auto;
      padding: 2rem;
      max-width: 900px;
      position: relative;
    }

    aside {
      flex: 0 0 20%;
    }
    section {
      flex: 0 1 80%;
      padding-left: 2rem;
      margin-top: 1rem;
    }

    @media (max-width:770px) {
      main {
        flex-direction: column;
      }
      section {
        padding-left: 0;
      }
    }

    /* main sticky-nav */

    aside nav {
      margin: 0 0 2rem;
      position: absolute;
      position: -webkit-sticky;
      position: sticky;
      top: 2rem;
    }
    aside nav a {
      display: block;
      margin-bottom: .25rem;
    }
    aside nav a.primary {
      color: #FF5555;
      color: #8e5eed;
      color: #555666;
      margin-top: 1.75rem;
      font-weight: 500;
      font-size: 1.1rem;
      font-size: 1rem;
    }
    aside nav a.secondary {
      color: #777888;
      font-size: 0.9rem;
    }

    /* main content */

    h1 {
      color: #FF5555;
      font-family: 'Roboto Mono', monospace;
      font-size: 1.4rem;
      font-weight: normal;
      margin: 5rem 0 1rem;
    }
    h2 {
      font-size: 1.1rem;
      font-weight: 600;
      margin: 1.5rem 0 .5rem;
    }
    li {
      margin: 0 0 .5rem;
    }
    code {
      font-family: 'Roboto Mono', monospace;
      background: #f5f5f5;
      font-size: 0.85em;
      padding: 2px 4px;
      border-radius: 2px;
    }
    a {
      color: #8e5eed;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .callout {
      padding: 0 1rem 1rem 1rem;
      margin: 0 0 1rem;
      background: hsl(45, 100%, 95%);
      border: 2px solid hsl(45, 100%, 80%);
      border-radius: 4px;
    }
    .callout code {
      background: none;
    }

  </style>
</head>

<body>

<header>
  <div class="top-bar">
    <h1>Firefly</h1>
    <nav>
      <a href="#philosophy">Philosophy</a>
      <a href="#how-it-works">How it works</a>
      <a href="#guide">Guide</a>
      <a href="#next">Next steps</a>
    </nav>
  </div>
  <div class="hero-content">
    <p class="headline">Making real websites is easier than you think</p>
    <!-- <p class="sub-headline">Firefly is a minimal, modern single-page web app boilerplate with firebase, react, and webpack</p> -->
    <p class="sub-headline">If you've ever tried to learn Rails and given up, Firefly was made for you.</p>
    <div class="clone">git clone https://github.com/sampl/firefly</div>
    <p>
      or <a href="https://github.com/sampl/firefly">view on Github</a></p>
    </p>
  </div>
  <div>
    <!-- empty div to get flex layout on <header> working -->
  </div>
</header>

<main>

<aside>
  <nav>
    <a class="primary" href="#philosophy">Philosophy</a>
    <a class="secondary" href="#philosophy-less">Less Is More</a>
    <a class="secondary" href="#philosophy-js">Embrace Javascript</a>
    <a class="secondary" href="#philosophy-code-over-convention">Code over Convention</h2>

    <a class="primary" href="#how-it-works">How it works</a>
    <a class="secondary" href="#how-it-works-models">Models</a>
    <a class="secondary" href="#how-it-works-views">Views</a>
    <a class="secondary" href="#how-it-works-other">Other stuff</a>

    <a class="primary" href="#guide">Guide</a>
    <a class="secondary" href="#guide-quick-start">Quick start</a>
    <a class="secondary" href="#guide-prerequisites">Before you begin</a>
    <a class="secondary" href="#guide-clone">Clone the boilerplate</a>
    <a class="secondary" href="#guide-firebase">Connect to Firebase</a>
    <a class="secondary" href="#guide-working">As you work</a>
    <a class="secondary" href="#guide-deploying">Deploying</a>

    <a class="primary" href="#next">Next steps</a>
    <a class="secondary" href="#next-development">Development</a>
    <a class="secondary" href="#next-tracking">Tracking</a>
    <a class="secondary" href="#next-other">Other</a>
  </nav>
</aside>

<section>

  <p>Firefly is intended to be an approachable starting place for writing "real" web apps. It's made especially for designers (and other people who are only used to writing a bit of client-side javascript but who don't have experience with servers and databases).</p>

  <h1 id="philosophy">Philosophy</h1>

  <p>If you're used to working with jQuery, Rails, or Express, Firefly is going to feel very different. Learning <em>why</em> Firefly was created might help you understand the new parts.</p>

  <h2 id="philosophy-less">Less Is More</h2>

  <p>You might have seen boilerplate projects in the past with a lot of code. Those projects can be useful if you already know how to write full apps and need to build something quickly for a hackathon, but they're daunting for new app developers and they contain a lot of things you'll never need.</p>
  <p>Firefly includes only the things we know you'll need for your app--and we <a href="#-next">show you how to add whatever else you might need later</a>.</p>

  <h2 id="philosophy-js">Embrace Javascript</h2>

  <p>You shouldn't have to learn two languages to make an app. That's why we've avoided template languages, backend languages, and SQL in favor of just Javascript (and things that work like Javascript).</p>

  <p>One think you might not be used to is the <em>kind</em> of Javascript that Firefly uses: <a href="">ES6</a>. ES6 is just the latest version of the language, and it comes with some new features that are going to be really helpful for you. Don't worry--we don't use all the crazy new stuff, and there are guides to help you as you go.</p>

  <h2 id="philosophy-code-over-convention">Code over Convention</h2>

  <p>Unlike Rails, Firefly isn't a big framework. At its core, Firefly is just a readme (this page) and a boilerplate.</p>



  <h1 id="how-it-works">How it works</h1>

  <p>Serverless - Firefly doesn't use a traditional backend server like you would with Express or Ruby on Rails. Instead, many of the normal things backend servers do are taken care of for you by the Real-time Database features, or are just done in the browser.</p>

  <p>Firefly code is mostly made of models to get and save your data and views to show your data to the user.</p>

  <p>You could think of Firefly as an MVC app (without the C)</p>

  <h2 id="how-it-works-models">Models</h2>

  <p>Firefly uses a service called the Firebase Real-time Database for persisting data.</p>

  <p><a href="https://firebase.google.com/docs/database/web/start">Firebase Real-time Database guide</a></p>

  <h2 id="how-it-works-views">Views</h2>

  <p>Views in Firefly do a lot--and that's a good thing</p>

  <ul>
    <li>Go through the guides for <a href="https://facebook.github.io/react/docs/hello-world.html">React</a> and <a href="https://reacttraining.com/react-router/web/guides">React Router</a></li>
    <li>Learn about the <a href="https://github.com/primus/eventemitter3">eventemitter3</a> library, which we use to listen for data changes and re-render react (instead of something like <a href="https://egghead.io/courses/getting-started-with-redux">Redux</a>)</li>
  </ul>

  <h2 id="how-it-works-other">Other stuff</h2>

  <ul>
    <li>To enable search, sign up for <a href="https://www.algolia.com">Algolia</a>, <a href="https://firebase.google.com/docs/functions/config-env">configure your functions credentials</a>, and <a href="https://console.firebase.google.com">upgrade your Firebase plan</a> to a tier that has <a href="https://firebase.google.com/docs/functions">Firebase functions</a>. See the server code at <code>/functions/index.js</code> for more details.</li>
    <li>We use <a href="https://firebase.google.com/docs/auth/web/start">Firebase Authentication</a> for logging users in, etc.</li>
    <li><a href="https://firebase.google.com/docs/admin/setup#add_firebase_to_your_app">Create a Service Account</a> to run maintenance scripts with <code>node scripts/test.js</code></li>
    <li>Learn about <a href="https://nodesource.com/blog/an-absolute-beginners-guide-to-using-npm/">npm packages and scripts</a></li>
    <li>Webpack</li>
    <li>Firebase hosting</li>
  </ul>



  <h1 id="guide">Guide</h1>

  <p>At its heart, Firefly is simply a boilerplate app. This guide will walk you through makeing a copy of Firefly and configuring it to work with Firebase.</p>

  <div class="callout">
    <h2 id="guide-quick-start">Quick start</h2>

    <ul>
      <li><code>git clone https://github.com/sampl/firefly &amp;&amp; cd firefly &amp;&amp; npm install</code></li>
      <li>rename <code>.firebaserc</code> &amp; <code>/config</code> files and add your Firebase keys</li>
      <li><code>npm start</code></li>
    </ul>
  </div>

  <h2 id="guide-prerequisites">Before you begin</h2>

  <p>This tutorial uses <code>git</code>. If you're not already a git user, <a href="https://www.codecademy.com/learn/learn-git">you can learn about it here</a>.</p>

  <p>If you haven't already, <a href="https://nodejs.org/en/download">download and install node</a>.</p>

  <p>Run <code>npm install -g firebase-tools</code> to install the <a href="https://firebase.google.com/docs/cli/">Firebase CLI</a>. You only need to do this once per computer.</p>

  <h2 id="guide-clone">Clone the boilerplate</h2>

  <p>To start a new Firefly project, we just make a copy of Firefly and make changes.</p>

  <ul>
    <li>In your terminal, <code>cd</code> to the folder where you want your project to live</li>
    <li>Clone this repo with <code>git clone https://github.com/sampl/firefly</code></li>
    <li>Go into the folder you just created with <code>cd firefly</code></li>
    <li>Run <code>npm install</code> to install all the packages Firefly needs</li>
  </ul>

  <p>Now you've got your own Firefly app!</p>

  <p>However, if we try to start our project now, it will error because it can't connect to the database.</p>


  <h2 id="guide-firebase">Connecting to Firebase</h2>

  <ol>
    <li>Go to the <a href="console.firebase.google.com">Firebase console</a> and sign in with your Google account</li>
    <li>Create a new project and name it something like <code>MyProjectName - Stage</code></li>
    <li>Now click "Add Firebase to your web app" (look for the pink circle)</li>
    <li>You'll see a popup window with a block of code--leave this window open, you'll need it in a minute</li>
  </ol>

  <p>Now we need to rename a few files. We're going to be putting security secrets in these files, and renaming them this way will keep them from getting committed into git (because the filenames without ".example" are listed in the <code>.gitignore</code> file).</p>

  <ul>
    <li>First, rename <code>.firebaserc.example</code> to <code>.firebaserc</code> and replace the blank space next to "dev" with the <code>projectId</code> from the Firebase website.</li>
    <li>Rename <code>config/firebase-config-dev.example.json</code> to <code>firebase-config-dev.json</code> and replace the blank spaces in that file with the codes from the Firebase website too.</li>
  </ul>


  <h2 id="using-working">As you work</h2>

  <p>Start your app with <code>npm start</code> and open <a href="http://localhost:8080">http://localhost:8080</a>. You should see a basic web app! 😎</p>

  <p>Now go back to your text editor and try editing some files. Changes to your code should automatically appear in the browser when you save.</p>

  <p>After each change, commit your work using <a href="">git</a>.</p>

  <p>When you're ready to deploy your app to stage (for testing or getting feedback from friends), run <code>npm run stage</code></p>


  <h2 id="using-deploying">Deploying</h2>

  <p>Each project you make using Firefly actually uses <em>two</em> Firebase projects--one for development and staging, and one for the live production site. We already made the development project, no</p>

  <li>Go back to <a href="#guide-firebase">Connecting to Firebase</a> and repeat, but call this project something like <code>MyProjectName - LIVE</code>, fill in the "prod" value in <code>.firebaserc</code>, and rename the config file with "prod" in the name.</li>

  <p><strong>Firefly is insecure by default. Before going live, <a href="https://firebase.google.com/docs/database/security">secure your app</a> by writing rules in <code>database.rules.json</code></strong></p>

  <p>When it's time to go live, run <code>npm run live</code>!</p>

  <p style="font-size: 2rem;">🎉 🎉 🎉</p>



  <h1 id="next">Next steps</h1>

  <p>One of Firefly's principles is "as little code as possible", so you'll probably want to add some features before you ship.</p>


  <h2 id="next-development">Development</h2>

  <ul>
    <li>Unit tests with <a href="https://mochajs.org/">Mocha</a> or <a href="https://facebook.github.io/jest/">Jest</a></li>
    <li>Linting with <a href="http://eslint.org/">ESLint</a></li>
  </ul>

  <h2 id="next-tracking">Tracking</h2>

  <ul>
    <li><a href="https://docs.sentry.io/clients/javascript/">Sentry</a> for monitoring errors on the site</li>
    <li><a href="https://support.google.com/analytics/answer/1008080?hl=en">Google Analytics</a> for tracking traffic</li>
    <li><a href="https://docs.intercom.com/install-on-your-product-or-site/quick-install/install-intercom-on-your-web-app-for-logged-in-users">Intercom</a> to add a help chat</li>
  </ul>

  <h2 id="next-other">Other</h2>

  <ul>
    <li>Add <a href="https://hackernoon.com/animated-page-transitions-with-react-router-4-reacttransitiongroup-and-animated-1ca17bd97a1a">page transitions</a></li>
    <li>Use <a href="https://github.com/gajus/react-css-modules">CSS Modules</a> to import and modularize CSS.</li>
    <li><a href="https://firebase.google.com/docs/hosting/custom-domain">Use a custom domain</a> like <code>www.myapp.com</code>.</li>
  </ul>

  <p>Did I miss something? Could something be more clear? <a href="https://github.com/sampl/firefly/issues">Submit issues and PRs</a></p>

</section>

</main>

</body>

</html>
