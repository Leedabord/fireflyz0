<!DOCTYPE html>

<html lang="en">

<head>
  <meta name="viewport" content="width=device-width">
  <title>Firefly | A Simple Javascript App Boilerplate</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,500,700" rel="stylesheet">
  <style>

    * {
      box-sizing: border-box;
    }
    body {
      font-family: system-ui, sans-serif;
      line-height: 1.4;
      margin: 0 0 10rem;
      color: #555666;
    }

    /* HERO */

    header {
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: space-between;;
      min-height: 90vh;
      background: #333;
      background: linear-gradient(45deg, #FD7D68, #FDB952);
      margin: 15px;
      color: white;
      padding: 2rem;
    }

    @media (max-width:770px) {
      header {
        padding: 1rem;
        min-height: 20rem;
      }
    }

    /* hero nav */

    .top-bar {
      display: flex;
      justify-content: space-between;
      margin: 0 0 2rem;
    }
    .top-bar h1 {
      font-size: 1.1rem;
      margin: 0;
      color: white;
      font-weight: 500;
    }
    header nav {
      margin: 0;
      padding: 0;
    }
    header nav a {
      display: inline-block;
      color: white;
      margin-left: 1rem;
    }

    @media (max-width:770px) {
      header nav {
        display: none;
      }
    }

    /* hero content */

    .hero-content {
      margin: 2rem 0 0;
      text-align: center;
    }
    .headline {
      font-family: 'Roboto Mono', monospace;
      font-size: 1.4rem;
    }
    .sub-headline {
      font-size: 1rem;
      margin: 0 0 2rem;
    }
    .clone {
      font-family: 'Roboto Mono', monospace;
      margin: 0rem auto;
      background: white;
      display: inline-block;
      color: #8e5eed;
      padding: .5rem .75rem;
      border-radius: 2px;
    }
    .hero-content a {
      color: white;
      text-decoration: underline;
    }

    /* MAIN */

    main {
      display: flex;
      margin: 0 auto;
      padding: 2rem;
      max-width: 900px;
      position: relative;
    }

    aside {
      flex: 0 0 20%;
    }
    section {
      flex: 0 1 80%;
      padding-left: 2rem;
      margin-top: 1rem;
    }

    @media (max-width:770px) {
      main {
        flex-direction: column;
      }
      section {
        padding-left: 0;
      }
    }

    /* main sticky-nav */

    aside nav {
      margin: 0 0 2rem;
      position: absolute;
      position: -webkit-sticky;
      position: sticky;
      top: 2rem;
    }
    aside nav a {
      display: block;
      margin-bottom: .25rem;
    }
    aside nav a.primary {
      color: #FF5555;
      color: #8e5eed;
      color: #555666;
      margin-top: 1.75rem;
      font-weight: 500;
      font-size: 1.1rem;
      font-size: 1rem;
    }
    aside nav a.secondary {
      color: #777888;
      font-size: 0.9rem;
    }

    @media (max-width:770px) {
      aside nav a.primary {
        font-size: 1.2rem;
      }
      aside nav a.secondary {
        font-size: 1rem;
      }
    }

    /* main content */

    h1 {
      color: #FF5555;
      font-family: 'Roboto Mono', monospace;
      font-size: 1.4rem;
      font-weight: normal;
      margin: 5rem 0 1rem;
    }
    h2 {
      font-size: 1.1rem;
      font-weight: 600;
      margin: 1.5rem 0 .5rem;
    }
    li {
      margin: 0 0 .5rem;
    }
    code {
      font-family: 'Roboto Mono', monospace;
      background: hsla(0, 0%, 0%, .05);
      font-size: 0.85em;
      padding: 2px 4px;
      border-radius: 2px;
    }
    a {
      color: #8e5eed;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .callout {
      padding: 0 1rem 1rem 1rem;
      margin: 0 0 1rem;
      background: hsl(45, 100%, 95%);
      border: 2px solid hsl(45, 100%, 80%);
      border-radius: 4px;
    }

  </style>
</head>

<body>

<header>
  <div class="top-bar">
    <h1>Firefly</h1>
    <nav>
      <a href="#philosophy">Philosophy</a>
      <a href="#how-it-works">How it works</a>
      <a href="#getting-started">Getting Started</a>
      <a href="#next">Next steps</a>
    </nav>
  </div>
  <div class="hero-content">
    <p class="headline">Designers: making real websites is easier than you think</p>
    <!-- <p class="sub-headline">Firefly is a minimal, modern single-page web app boilerplate with firebase, react, and webpack</p> -->
    <p class="sub-headline">If you've ever tried to learn Rails and given up, Firefly was made for you.</p>
    <div class="clone">git clone https://github.com/sampl/firefly</div>
    <p>
      or <a href="https://github.com/sampl/firefly">view on Github</a></p>
    </p>
  </div>
  <div>
    <!-- empty div to get flex layout on <header> working -->
  </div>
</header>

<main>

<aside>
  <nav>
    <a class="primary" href="#philosophy">Philosophy</a>
    <a class="secondary" href="#philosophy-less">Less Is More</a>
    <a class="secondary" href="#philosophy-js">Embrace Javascript</a>
    <a class="secondary" href="#philosophy-code-over-convention">Code over Convention</h2>

    <a class="primary" href="#how-it-works">How it works</a>
    <a class="secondary" href="#how-it-works-models">Models</a>
    <a class="secondary" href="#how-it-works-views">Views</a>
    <a class="secondary" href="#how-it-works-other">Other stuff</a>

    <a class="primary" href="#getting-started">Getting Started</a>
    <a class="secondary" href="#getting-started-quick-start">Quick start</a>
    <a class="secondary" href="#getting-started-prerequisites">Before you begin</a>
    <a class="secondary" href="#getting-started-create">Create your app</a>
    <a class="secondary" href="#getting-started-firebase">Connect to Firebase</a>
    <a class="secondary" href="#getting-started-working">As you work</a>
    <a class="secondary" href="#getting-started-deploying">Deploying</a>

    <a class="primary" href="#next">Next steps</a>
    <a class="secondary" href="#next-development">Development</a>
    <a class="secondary" href="#next-tracking">Tracking</a>
    <a class="secondary" href="#next-other">Other</a>
  </nav>
</aside>

<section>

  <p><strong>Making websites is still too hard.</strong></p>

  <p>Sure, hacking on HTML and CSS is easy--but when you add basic features like a database, user login, or search, the difficulty skyrockets.</p>

  <p>Luckily, some new tools are making it easier. When combined, they make a pretty compelling package.</p>

  <p>That's what Firefly is--a couple modern web tools put together to make web development easier.

  <!-- It embodies the <a href="http://rubyonrails.org/doctrine">spirit of Rails</a>, but has some very different guiding <a href="">principles</a>. -->

  Firefly embraces modern concepts like the <a href="">single-page application</a>, <a href="">serverless architecture</a>, and <a href="">component-based views</a>. The combination of these makes for a radically small codebase. Firefly makes creating simple apps surprisingly simple.</p>

  <p>This is a guide to help you get familiar with the basics of React, Firebase</p>

  <!-- <p>Ruby on Rails opened up web development to a whole generation of developers--even people who didn't think they WERE  developers before they found Rails. Without it, we wouldn't have many of the amazing services we have today. Properly framed, I think the modern JavaScript ecosystem can do the same.</p> -->

  <!-- <p>Firefly is intended to be an approachable starting place for writing "real" web apps. It's made especially for designers (and other people who are only used to writing a bit of client-side javascript but who don't have experience with servers and databases).</p> -->

  <h1 id="philosophy">Philosophy</h1>

  <h2 id="philosophy-less">Modules over Monoliths</h2>

  <p>Unlike Ember. The javascript ecosystem

  <p>NPM, already home to thousands of amazing packages. NPM might be the worlds biggest collection of software hat does one thing well.</p>

  <p>Firefly isn't a framework--it's just a boilerplate that shows you how to plug the most important pieces together. What you add afterward is up to you.</p>

  <p>This not only makes it easier to, but easier to swap out smaller pieces of your app as new packages become available.</p>

  <p>You'll find a list of [likely additions] at the bottom of this guide.</p>



  <h2 id="philosophy-less">Less Is More</h2>

  <p>When you start something new there's a lot to learn and firefly is no exception. But as you (and your codebase) mature, it's still important to have as a little cold as possible. Any code that you maintain, even if you didn't write it, is your responsibility to keep running and bug free. And as app complexity gross, keeping code bug free gets exponentially harder. That's why Firefly strives to keep total lines of code to a minimum.</p>

  <p>For example:</p>
  <ul>
    <li>Features like search, that not everybody needs, live in a separate repo.</li>
    <li>Instead of generators and scaffolds, you simply create new models and views by copying and pasting existing boilerplate code.</li>
    <li>features like email and search don't live in a firefly app at all. (See services)</li>
    <li>wherever practical, code that you shouldn't edit is abstract the way behind an npm package</li>
  </ul>

  <p>This means that installing firefly doesn't dump a bunch of files that you don't understand into your project. in fact firefly is only about 50 files, just json JavaScript HTML CSS and markdown.</p>

  <p>And unlike Rails, you don't have to update firefly "underneath" your app separately from your packages. It's just a boilerplate, so you can always take and use whatever party find useful.</p>

  <p>You shouldn't have to learn two languages to make an app. That's why we've avoided template languages, backend languages, and SQL in favor of just Javascript (and things that work like Javascript).</p>

  <p>You might have seen boilerplate projects in the past with a lot of code. Those projects can be useful if you already know how to write full apps and need to build something quickly for a hackathon, but they're daunting for new app developers and they contain a lot of things you'll never need.</p>

  <p>Firefly includes only the things we know you'll need for your app--and we <a href="#-next">show you how to add whatever else you might need later</a>.</p>


  <h2 id="philosophy-clarity">Clarity over concision</h2>

  <p>Some developers try to make their code bases seem smaller by writing really dense-looking code. This doesn't actually make their code easier to use because all the logical complexity is still there--and now it's harder to understand!

  <p>I've tried to include is a little code as possible in Firefly--but the code I did include was written to be easy to understand.</p>

  <p>Thousands of people are introduced to Javascript and programming each day. That's why Firefly should not just be a great tool, but also a great teacher. I've also added a ton of comments so that you can go through the code base and learn as you work (you can strip these out for your own projects, of course). This document also has lots of links to tutorials and videos that I found helpful while learning React, Firebase, and ES6.</p>


  <h2 id="philosophy-js">Embrace Javascript</h2>

  <p>One think you might not be used to is the <em>kind</em> of Javascript that Firefly uses: <a href="">ES6</a>. ES6 is just the latest version of the language, and it comes with some new features that are going to be really helpful for you. Don't worry--we don't use all the crazy new stuff, and there are guides to help you as you go.</p>



  <h2 id="philosophy------">Low cognitive overhead</h2>

  <p>Javascript reduces context switching cost.</p>

  <p>For many apps, you won't ever have to:</p>

  <ul>
    <li>save, encrypt, or salt passwords</li>
    <li>manage sessions, login, or password reset</li>
    <li>monitor server uptime</li>
    <li>write a server api</li>
    <li>deploy</li>
    <li>write sql or joins</li>
  </ul>


  <h2 id="philosophy-code-over-convention">Code over Convention</h2>

  <p>Unlike Rails, Firefly isn't a big framework. At its core, Firefly is just a readme (this page) and a boilerplate.</p>

  <p>Let's dive into some internals and see how all this fits together.</p>



  <h1 id="how-it-works">How it works</h1>


  <p>"Give me six hours to chop down a tree and I will spend the first four sharpening the axe."</p>

  <p>If you're used to working with jQuery, Rails, or Express, Firefly is going to feel very different. There are a few concepts that are important to understand before you dive in.</p>

  <p>Services - Firefly outsources a lot of its features to services specially built for a single purpose. For example, search in firefly is simply an Algolia integration. And the firebase database is built on the firebase real-time database. This increases the chances of [vendor lock-in], but I believe the benefits of having no server or API code at all far outweigh that cost. Try authenticating a user with Firefly vs Passport and you might agree.</p>

  <p>Serverless - what Firefly can't do on the client or with a 3rd party service, it does using Firebase Functions. These are lightweight backend functions that run on the Google cloud servers, and require no uptime monitoring or special deployment.</p>

  <ul>
    <li>learn more about severless architecture</li>
    <li>AWS lambda</li>
  </ul>

  <p>Serverless - Firefly doesn't use a traditional backend server like you would with Express or Ruby on Rails. Instead, many of the normal things backend servers do are taken care of for you by the Real-time Database features, or are just done in the browser.</p>

  <p>Firefly code is mostly made of models to get and save your data and views to show your data to the user.</p>

  <p>You could think of Firefly as an MVC app (without the C)</p>

  <p>Firebase is essentially an MVC front end app without the C.  ...   Models have clear separation from Firefly views.</p>

  <p>All good? Let's look at how it all fits together.</p>


  <h2 id="how-it-works-models">Models</h2>

  <p>Firefly uses a service called the Firebase Real-time Database for persisting data.</p>

  <p><a href="https://firebase.google.com/docs/database/web/start">Firebase Real-time Database guide</a></p>

  <p>Firefly uses the firebase real time database as its database. The firebase database is just a big json blob, and doesn't care how you store data. Firefly, however, uses the top level of that json blob as "collections" or tables, containing "rows" with Firebase-generate keys.</p>

  <p>Each collection can be directly manipulated by the clients I need to collection has it in attributes that are only updated by firebase server club functions. For example when you like a post, firebase as a new post like to the post lakes connection. Then, firebase functions increments that hosts "like count" so the clients can sort posts by number of likes. Clients have no direct access to write to the post to like count attribute.</p>

  <p>Firefly models live in the models folder and can be imported by both the client and server. You can write a firefly model however you like, but the default models extend a Supermodel class that has a lot of helper functions for adding, querying, and deleting collection items.</p>

  <p>Most models simply modify and return the firebase promise on the fireplace clearly library. This makes error handling in the views very simple, however it does require a bit of knowledge about how promises work.</p>

  <p>You should leave the users model as it is for extended,.The post model and views or just as an example copy it to create more collections and views or rename it to reflect the main collection in your app.</p>


  <h2 id="how-it-works-views">Views</h2>

  <p>Views in Firefly are use <a href="">React</a>.</p>

  <ul>
    <li><a href="">Why React?</a> - If you're coming from a world where writing HTML CSS and JavaScript is all done and different files, React will feel weird at first.</li>
    <li><a href="https://facebook.github.io/react/docs/hello-world.html">React guide</a> (MUST READ) - The official React docs do a good job of walking you through React</li>
    <li><a href="https://reacttraining.com/react-router/web/guides">React Router Guide</a> - the router is a separate package, learn how to use it here</li>
    <li>Learn about the <a href="https://github.com/primus/eventemitter3">eventemitter3</a> library, which we use to listen for data changes and re-render react (instead of something like <a href="https://egghead.io/courses/getting-started-with-redux">Redux</a>)</li>
  </ul>

  <h2 id="how-it-works-other">Other stuff</h2>

  <ul>
    <li>To enable search, sign up for <a href="https://www.algolia.com">Algolia</a>, <a href="https://firebase.google.com/docs/functions/config-env">configure your functions credentials</a>, and <a href="https://console.firebase.google.com">upgrade your Firebase plan</a> to a tier that has <a href="https://firebase.google.com/docs/functions">Firebase functions</a>. See the server code at <code>/functions/index.js</code> for more details.</li>
    <li>We use <a href="https://firebase.google.com/docs/auth/web/start">Firebase Authentication</a> for logging users in, etc.</li>
    <li><a href="https://firebase.google.com/docs/admin/setup#add_firebase_to_your_app">Create a Service Account</a> to run maintenance scripts with <code>node scripts/test.js</code></li>
    <li>Learn about <a href="https://nodesource.com/blog/an-absolute-beginners-guide-to-using-npm/">npm packages and scripts</a></li>
    <li>Webpack</li>
    <li>Firebase hosting</li>
  </ul>

  Firefly uses
   - NPM, the javascript package manager, to import 3rd party packages (and run scripts to start the development server and deploy)
   - Webpack to. We pack starts at client/app.js, finds all the files it imports (and he ones they import, etc) and bundles it up into a single app.js for the server.

  <p>Now--let's build an app!</p>



  <h1 id="getting-started">Getting Started</h1>

  <p>At its heart, Firefly is simply a boilerplate app. This guide will walk you through makeing a copy of Firefly and configuring it to work with Firebase.</p>

  <div class="callout">
    <h2 id="getting-started-quick-start">Quick start</h2>

    <ul>
      <li><code>git clone https://github.com/sampl/firefly &amp;&amp; cd firefly &amp;&amp; npm install</code></li>
      <li><code>mv .firebaserc.example .firebaserc &amp;&amp; mv config/firebase-config-dev.example.json config/firebase-config-dev.json</code></li>
      <li>add your Firebase keys to <code>.firebaserc</code> and <code>config/firebase-config-dev.json</code></li>
      <li><code>npm start</code></li>
    </ul>
  </div>

  <h2 id="getting-started-prerequisites">Before you begin</h2>

  <p>This tutorial uses <code>git</code>. If you're not already a git user, <a href="https://www.codecademy.com/learn/learn-git">you can learn about it here</a>.</p>

  <p>If you haven't already, <a href="https://nodejs.org/en/download">download and install node</a>.</p>

  <p>Run <code>npm install -g firebase-tools</code> to install the <a href="https://firebase.google.com/docs/cli/">Firebase CLI</a>. You only need to do this once per computer.</p>

  <h2 id="getting-started-create">Create your app</h2>

  <p>To start a new Firefly project, we just make a copy of Firefly and make changes.</p>

  <ul>
    <li>In your terminal, <code>cd</code> to the folder where you want your project to live</li>
    <li>Clone this repo with <code>git clone https://github.com/sampl/firefly</code></li>
    <li>Go into the folder you just created with <code>cd firefly</code></li>
    <li>Run <code>npm install</code> to install all the packages Firefly needs</li>
  </ul>

  <p>Now you've got your own Firefly app!</p>

  <p>However, if we try to start our project now, it will error because it can't connect to the database.</p>


  <h2 id="getting-started-firebase">Connecting to Firebase</h2>

  <ol>
    <li>Go to the <a href="console.firebase.google.com">Firebase console</a> and sign in with your Google account</li>
    <li>Create a new project and name it something like <code>MyProjectName - Stage</code></li>
    <li>Now click "Add Firebase to your web app" (look for the pink circle)</li>
    <li>You'll see a popup window with a block of code--leave this window open, you'll need it in a minute</li>
  </ol>

  <p>Now we need to rename a few files. We're going to be putting security secrets in these files, and renaming them this way will keep them from getting committed into git (because the filenames without ".example" are listed in the <code>.gitignore</code> file).</p>

  <ul>
    <li>First, rename <code>.firebaserc.example</code> to <code>.firebaserc</code> and replace the blank space next to "dev" with the <code>projectId</code> from the Firebase website.</li>
    <li>Rename <code>config/firebase-config-dev.example.json</code> to <code>firebase-config-dev.json</code> and replace the blank spaces in that file with the codes from the Firebase website too.</li>
  </ul>

  <div class="callout">
    <p>For now you must also rename the algolia-config.example.json file</p>
  </div>

  <div class="callout">
    <p>Before you can add any posts, you'll have to allow sign-in with Google</p>
    <p>Back in the Firebase console, click on Authentication in the sidebar</p>
    <p>Click "Set up sign-in method"</p>
    <p>Click "Google", toggle the "Enable" switch, and hit "Save"</p>
  </div>

  <h2 id="using-working">As you work</h2>

  <p>Start your app with <code>npm start</code> and open <a href="http://localhost:8080">http://localhost:8080</a>. You should see a basic web app! 😎</p>

  <p>If you've set up authentication, you should be able to log in, create posts, edit them, delete them, and like them</p>

  <p>Now go back to your text editor and try editing some files. Changes to your code should automatically appear in the browser when you save.</p>

  <p>After each change, commit your work using <a href="">git</a>.</p>

  <p>When you're ready to deploy your app to stage (for testing or getting feedback from friends), run <code>npm run stage</code></p>


  <h2 id="using-deploying">Deploying</h2>

  <p>Each project you make using Firefly actually uses <em>two</em> Firebase projects--one for development and staging, and one for the live production site. We already made the development project, no</p>

  <li>Go back to <a href="#getting-started-firebase">Connecting to Firebase</a> and repeat, but call this project something like <code>MyProjectName - LIVE</code>, fill in the "prod" value in <code>.firebaserc</code>, and rename the config file with "prod" in the name.</li>

  <p><strong>Firefly is insecure by default. Before going live, <a href="https://firebase.google.com/docs/database/security">secure your app</a> by writing rules in <code>database.rules.json</code></strong></p>

  <p>When it's time to go live, run <code>npm run live</code>!</p>

  <p style="font-size: 2rem;">🎉 🎉 🎉</p>



  <h1 id="next">Next steps</h1>

  <p>One of Firefly's principles is "as little code as possible", so you'll probably want to add some features before you ship.</p>


  <h2 id="next-development">Development</h2>

  <ul>
    <li>Unit tests with <a href="https://mochajs.org/">Mocha</a> or <a href="https://facebook.github.io/jest/">Jest</a></li>
    <li>Linting with <a href="http://eslint.org/">ESLint</a></li>
  </ul>

  <h2 id="next-tracking">Tracking</h2>

  <ul>
    <li><a href="https://docs.sentry.io/clients/javascript/">Sentry</a> for monitoring errors on the site</li>
    <li><a href="https://support.google.com/analytics/answer/1008080?hl=en">Google Analytics</a> for tracking traffic</li>
    <li><a href="https://docs.intercom.com/install-on-your-product-or-site/quick-install/install-intercom-on-your-web-app-for-logged-in-users">Intercom</a> to add a help chat</li>
  </ul>

  <h2 id="next-other">Other</h2>

  <ul>
    <li>Add <a href="https://hackernoon.com/animated-page-transitions-with-react-router-4-reacttransitiongroup-and-animated-1ca17bd97a1a">page transitions</a></li>
    <li>Use <a href="https://github.com/gajus/react-css-modules">CSS Modules</a> to import and modularize CSS.</li>
    <li><a href="https://firebase.google.com/docs/hosting/custom-domain">Use a custom domain</a> like <code>www.myapp.com</code>.</li>
  </ul>

  <p>Did I miss something? Could something be more clear? <a href="https://github.com/sampl/firefly/issues">Submit issues and PRs</a></p>

</section>

</main>

</body>

</html>
